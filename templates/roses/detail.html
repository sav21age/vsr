{% extends "main.html" %}
{% load thumbnail markdownify django_bootstrap_breadcrumbs %}

{% block head %}
  {% include 'head.html' %}
  {% comment %} <meta property="og:url" content="{{host}}{% url 't-r_list' %}"> {% endcomment %}
{% endblock %} 

{% block breadcrumb_name %}
{{ object.name }}
{% endblock %}

{% block breadcrumb %}
{% breadcrumb_for '/' %}<i class="fas fa-home text-white"></i>{% endbreadcrumb_for %}
{% breadcrumb_for 'catalog_template' %}Каталог{% endbreadcrumb_for %}
{% breadcrumb_for 'roses:list' %}Розы{% endbreadcrumb_for %}
{% breadcrumb_for 'roses:detail' object.slug %}{{ object.name }}{% endbreadcrumb_for %}
{% render_breadcrumbs 'breadcrumb.html' %}
{% endblock %}

{% block content %}
<div class="row mt-3 mx-2">
    <div class="col-12 col-md-5">
        {% include 'common/detailview/images_gallery.html' %}
    </div>
    <div class="col-12 col-md-7">
        
        <p>{{object.short_description}}</p>

        {% if object.scientific_name %}
        <p class="detail-property"><span>Научное название:</span> {{object.scientific_name}}</p>
        {%endif%}

        {% include 'common/detailview/adult_plant_size.html' %}

        {% if object.flower_size %}
        <p class="detail-property"><span>Размер цветка:</span> {{object.flower_size}} см{% if object.quantity_on_stem %}, {{object.quantity_on_stem}} на стебле{%else%}.{% endif%}</p>
        {% endif%}
        
        {% if object.flowering %}
            <p class="detail-property"><span>Цветение:</span> {{object.flowering}}</p>
        {%endif%}

        {% if object.flavor %}
            <p class="detail-property"><span>Аромат:</span> {{object.flavor}}</p>
        {%endif%}
        
        {% if object.resistance_fungus %}
            <p class="detail-property"><span>Устойчивость к грибковым инфекциям:</span> {{object.resistance_fungus}}</p>
        {%endif%}

        {% if object.resistance_rain %}
            <p class="detail-property"><span>Устойчивость к дождю:</span> {{object.resistance_rain}}</p>
        {%endif%}

        {% if object.shelter_winter %}
            <p class="detail-property"><span>Укрытие на зиму:</span> {{object.shelter_winter}}</p>
        {%endif%}
        
        {% if object.winter_zone %}
            <p class="detail-property"><span>Зона зимостойкости в градусах:</span> {{object.winter_zone}}</p>
        {%endif%}

        {% if object.advantages.all %}
        <p class="detail-property"><span>Достоинства:</span>
        {% for advantage in object.advantages.all %}
            {{advantage.name}}{% if forloop.last %}.{% else %}, {% endif%}
        {% endfor %}
        </p>
        {% endif %}

        {% if object.features%}
        <p class="detail-property"><span>Особенности:</span> {{object.features}}</p>
        {%endif%}

        {% comment %} {% with price_set=object.roseproductprice_set.all %}
            {% include 'common/detailview/prices.html' %}
        {% endwith %} {% endcomment %}

        {% with object_set_all=object.roseproductprice_set.all %}
            {% include 'common/detailview/add_to_cart.html' %}
        {% endwith %}
    </div>
    <div class="row">
        <div class="col-12">
            <p>{{object.description|safe}}</p>
        </div>
    </div>
</div>
{% endblock %}